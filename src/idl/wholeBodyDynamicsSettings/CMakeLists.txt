# Copyright (C) 2016 Istituto Italiano di Tecnologia  iCub Facility
# Authors: Silvio Traversaro
# CopyPolicy: Released under the terms of the LGPLv2.1 or later, see LGPL.TXT

cmake_minimum_required(VERSION 2.8.11)

project(wholeBodyDynamicsSettings)

yarp_idl_to_dir(wholeBodyDynamicsSettings.thrift ${CMAKE_CURRENT_SOURCE_DIR}/autogenerated WBDSETTINGS_SRC WBDSETTINGS_HEADERS WBDSETTINGS_INCLUDES)


add_library(wholeBodyDynamicsSettings SHARED ${WBDSETTINGS_SRC} ${WBDSETTINGS_HEADERS})
message("Includes " ${WBDSETTINGS_INCLUDES})
target_include_directories(wholeBodyDynamicsSettings PUBLIC ${WBDSETTINGS_INCLUDES} ${YARP_INCLUDE_DIRS})
target_link_libraries(wholeBodyDynamicsSettings ${YARP_LIBRARIES})

target_include_directories(wholeBodyDynamicsSettings PUBLIC
                            "$<BUILD_INTERFACE:${WBDSETTINGS_INCLUDES}>"
                            "$<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/wholeBodyDynamics>")

set_property(TARGET wholeBodyDynamicsSettings PROPERTY PUBLIC_HEADER ${WBDSETTINGS_HEADERS})

install(TARGETS wholeBodyDynamicsSettings
        LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
        PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/wholeBodyDynamics)

